[package]
name = "zipsign-api"
description = "Verify files signed with `zipsign`"
version = "0.1.0-a.0"
edition = "2021"
authors = ["Ren√© Kijewski <crates.io@k6i.de>"]
license = "MIT OR Apache-2.0 WITH LLVM-exception"

[dependencies]
base64 = { workspace = true, optional = true }
ed25519-dalek.workspace = true
thiserror = { workspace = true, optional = true }
zip = { workspace = true, optional = true }

[features]
default = ["tar", "zip"]

verify = ["dep:thiserror"]
verify-tar = ["verify", "dep:base64"]
verify-zip = ["verify"]

sign = ["dep:thiserror"]
sign-tar = ["sign", "dep:base64"]
sign-zip = ["sign", "dep:zip"]

tar = ["sign-tar", "verify-tar"]
zip = ["sign-zip", "verify-zip"]
